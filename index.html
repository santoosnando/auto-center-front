<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Center - Luxo & Performance</title>
    <link rel="shortcut icon" href="logo_fav.ico" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-dark text-light">

    <nav class="navbar navbar-expand-lg navbar-dark border-bottom border-secondary sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#" onclick="showPage('home')">
                <img src="logo trabalho puc.png" alt="Auto Center Logo" height="40">
            </a>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showPage('home')"><img src="ícones/Home.svg" class="icon-sm"> HOME</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showPage('agendar')"><img src="ícones/calendar.svg" class="icon-sm"> AGENDAR</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showPage('consulta')"><img src="ícones/text_snippet.svg" class="icon-sm"> CONSULTA</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" onclick="showPage('dashboard')"><img src="ícones/dashboard.svg" class="icon-sm"> DASHBOARD</a></li>
                </ul>
                <form class="d-flex" onsubmit="buscarNav(event)">
                    <div class="nav-search-wrapper me-2">
                        <svg class="nav-input-icon" width="18" height="18" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
                            <path d="M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z" fill="currentColor"/>
                        </svg>
                        <input class="form-control nav-search-input bg-dark text-light border-info" type="search" id="navSearch" placeholder="Placa ou ID">
                    </div>
                </form>
            </div>
        </div>
    </nav>

    <main id="content" class="container">
        
        <section id="page-home" class="spa-page active">
            <div class="hero-section text-center d-flex flex-column align-items-center justify-content-center">
                <img src="logo trabalho puc.png" alt="Auto Center Logo" class="hero-logo">
                <p class="lead">Excelência em manutenção automotiva de luxo.</p>
                <button class="btn btn-info btn-lg px-5 py-3 btn-icon hero-btn" onclick="showPage('agendar')">
                    Agendar Revisão <img src="ícones/calendar-black.svg" class="icon-sm">
                </button>
            </div>
        </section>

        <section id="page-agendar" class="spa-page mt-4">
            <div class="form-container mx-auto p-4 rounded shadow">
                <h2 class="text-center text-info mb-4">Novo Agendamento</h2>
                <form id="formAgendamento">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label">Placa</label>
                            <div class="input-group">
                                <input type="text" id="placa" class="form-control bg-dark text-light border-secondary" placeholder="ABC-1234" required>
                                <select id="tipoPlaca" class="form-select bg-dark text-light border-secondary" style="max-width: 120px;">
                                    <option value="comum">Comum</option>
                                    <option value="mercosul">Mercosul</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Marca</label>
                            <select id="marca" class="form-select bg-dark text-light border-secondary" onchange="carregarModelos()" required>
                                <option value="">Selecione...</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Modelo</label>
                            <select id="modelo" class="form-select bg-dark text-light border-secondary" disabled required>
                                <option value="">Selecione a marca</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Data</label>
                            <input type="date" id="data" class="form-control bg-dark text-light border-secondary" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Quilometragem</label>
                            <input type="number" id="km" class="form-control bg-dark text-light border-secondary" placeholder="Quilometragem atual" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Grupo/Serviço</label>
                            <select id="servico" class="form-select bg-dark text-light border-secondary" required>
                                <option value="Mecânica Geral">Mecânica Geral</option>
                                <option value="Estética Automotiva">Estética Automotiva (Detailing)</option>
                                <option value="Sistemas de Freios">Sistemas de Freios</option>
                                <option value="Elétrica e Injeção">Elétrica e Injeção</option>
                                <option value="Ar Condicionado">Ar Condicionado</option>
                                <option value="Troca de Óleo/Filtros">Troca de Óleo e Filtros</option>
                                <option value="Suspensão/Pneus">Suspensão e Pneus</option>
                            </select>
                        </div>
                        <div class="col-12">
                            <label class="form-label">Observações</label>
                            <textarea id="obs" class="form-control bg-dark text-light border-secondary" rows="2"></textarea>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-info w-100 mt-4 py-2 fw-bold">CONCLUIR AGENDAMENTO ✓</button>
                </form>
            </div>
        </section>

        <section id="page-consulta" class="spa-page mt-4">
            <div class="d-flex align-items-center justify-content-between mb-4">
                <h2 class="m-0 text-info d-inline">Gestão de Agendamentos</h2>
                <img src="ícones/text_snippet.svg" class="icon-lg ms-2 icon-right" alt="ícone gestão">
            </div>
            <div class="table-responsive bg-custom-card p-3 rounded">
                <table class="table table-dark table-hover align-middle">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Placa</th>
                            <th>Marca</th>
                            <th>Veículo</th>
                            <th>Observações</th>
                            <th>Status</th>
                            <th class="text-center">Ações</th>
                        </tr>
                    </thead>
                    <tbody id="tabelaAgendamentos">
                        </tbody>
                </table>
            </div>
        </section>

        <section id="page-dashboard" class="spa-page mt-4">
            <h2 class="text-info mb-4"><img src="ícones/donut_small.svg" class="icon-lg me-2 align-middle" alt=""> Resumo dos Serviços</h2>

            <div class="row g-3 mb-3" id="dashboardCards">
                <div class="col-md-4">
                    <div class="status-card p-3 text-center" id="card-agendado" data-status="Agendado">
                        <h3 class="mb-0 text-info">Agendado</h3>
                        <p class="display-6 fw-bold" id="count-agendado">0</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="status-card p-3 text-center" id="card-concluido" data-status="Concluido">
                        <h3 class="mb-0 text-info">Concluído</h3>
                        <p class="display-6 fw-bold" id="count-concluido">0</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="status-card p-3 text-center" id="card-cancelado" data-status="Cancelado">
                        <h3 class="mb-0 text-info">Cancelado</h3>
                        <p class="display-6 fw-bold" id="count-cancelado">0</p>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-8 mx-auto chart-wide">
                    <div class="bg-custom-card p-3 rounded">
                        <canvas id="statusChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Overlay de Observação -->
        <div id="overlayObs" class="overlay d-none">
            <div class="obs-card p-4 rounded" style="max-width:640px; width:90%;">
                <button type="button" class="btn-close btn-close-white float-end" aria-label="Close" onclick="fecharObs()"></button>
                <h3 class="text-info">Observação</h3>
                <p id="obsContent" class="text-light mt-3"></p>
            </div>
        </div>

    </main>

    <div id="overlay" class="overlay d-none">
        <div class="text-center">
            <div class="spinner-border text-info" role="status"></div>
            <h3 class="mt-3 text-info">Agendamento Confirmado!</h3>
            <p id="codigoGerado"></p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>